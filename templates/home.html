{% extends "base.html" %}

{% block head %}
<style>
	.container {
		display: flex;
		flex-wrap: wrap;
		justify-content: center;
		gap: 20px;
		margin: 2rem auto;
		padding: 0 4rem;
	}

	h1 {
		margin: 2rem auto;
		text-align: center;
	}

	.book {
		background-color: #f9f9f9;
		border-radius: 5px;
		padding: 10px;
		box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
		flex: 1 1 calc(25% - 20px); /* 25% width for each book with 20px gap */
		max-width: 300px;
		text-align: center;
	}

	.book img {
		max-height: 16rem;
		min-height: 16rem;
		height: auto;
		border-radius: 5px;
		margin: 0.5rem;
	}

	@media screen and (max-width: 768px) {
		.book {
			flex-basis: calc(50% - 20px); /* Two books per row for smaller screens */
		}
	}

	@media screen and (max-width: 480px) {
		.book {
			flex-basis: 100%; /* One book per row for even smaller screens */
		}
	}
</style>
{% endblock %}

{% block content %}
<h1>Librari</h1>
<div class="container">
    {% for book in books %}
    <div class="book">
		<a href="/{{book.slug}}">
			{%if book.has_cover %}
			<img loading="lazy" src="/{{book.slug}}/cover" alt="Cover for {{ book.title }}" />
			<h2>{{ book.title }}</h2>
			{% endif %}
		</a>
        <p>{{ book.authors }}</p>
        <p>{{ book.year }}</p>
    </div>
    {% endfor %}
</div>
{% endblock %}
